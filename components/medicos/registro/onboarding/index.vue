<template>
  <MedicosRegistroOnboardingModalBienvenidaOnboarding
    ref="welcomeModalRef"
    @openProviderFormModal="handleOpenAddDoctorModal"
  />

  <MedicosModalesAgregarMedicoRelacionado
    ref="addDoctorModalRef"
    @doctor-added="handleDoctorAdded"
    @doctor-added-onboarding="handleDoctorAddedOnboarding"
  />

  <MedicosRegistroOnboardingModalFelicidadesCompletado ref="successModalRef" />
</template>

<script lang="ts" setup>
const welcomeModalRef = ref();
const addDoctorModalRef = ref();
const successModalRef = ref();

const handleOpenAddDoctorModal = () => {
  nextTick(() => {
    addDoctorModalRef.value?.openModal();
  });
};

const handleDoctorAdded = () => {
  console.log("âœ… MÃ©dico agregado exitosamente");
};

const handleDoctorAddedOnboarding = () => {
  console.log("ðŸŽ‰ Onboarding completado - mostrando modal de felicidades");

  nextTick(() => {
    successModalRef.value?.handleOpenModal();
  });
};
</script>
